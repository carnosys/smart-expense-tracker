name: smart-expense-tracker

services:
 backend:
   build: .
   ports: 
    - 8080:8080
   volumes:
    - type: bind
      source: .
      target: /app
   environment:
    POSTGRES_USER: ${POSTGRES_USER}
    POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    POSTGRES_DB: ${POSTGRES_DB}
    POSTGRES_PORT: ${POSTGRES_PORT}   
   depends_on:
    - db 
    



 db:
  image: postgres:17
  environment:
   POSTGRES_USER: ${POSTGRES_USER}
   POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
   POSTGRES_DB: ${POSTGRES_DB}
  volumes:
   - db-data:/var/lib/postgresql/data 



volumes:
  db-data: 